\section{vcd.c File Reference}
\label{vcd_8c}\index{vcd.c@{vcd.c}}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$assert.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include \char`\"{}defines.h\char`\"{}}\par
{\tt \#include \char`\"{}vcd.h\char`\"{}}\par
{\tt \#include \char`\"{}db.h\char`\"{}}\par
{\tt \#include \char`\"{}util.h\char`\"{}}\par
{\tt \#include \char`\"{}symtable.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf vcd\_\-parse\_\-def\_\-ignore} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse\_\-def\_\-var} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse\_\-def\_\-scope} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse\_\-def} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse\_\-sim\_\-vector} (FILE $\ast$vcd, char $\ast$value)
\item 
void {\bf vcd\_\-parse\_\-sim\_\-ignore} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse\_\-sim} (FILE $\ast$vcd)
\item 
void {\bf vcd\_\-parse} (char $\ast${\bf vcd\_\-file})
\begin{CompactList}\small\item\em Parses specified VCD file, storing information into database. \item\end{CompactList}\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
char {\bf user\_\-msg} [USER\_\-MSG\_\-LENGTH]
\item 
char $\ast$ {\bf top\_\-instance}
\item 
{\bf bool} {\bf instance\_\-specified}
\item 
{\bf symtable} $\ast$ {\bf vcd\_\-symtab}
\item 
int {\bf vcd\_\-symtab\_\-size}
\item 
{\bf symtable} $\ast$$\ast$ {\bf timestep\_\-tab}
\item 
{\bf bool} {\bf one\_\-instance\_\-found} = FALSE
\end{CompactItemize}


\subsection{Detailed Description}
\begin{Desc}
\item[Author:]Trevor Williams ({\tt trevorw@charter.net}) \end{Desc}
\begin{Desc}
\item[Date:]7/21/2002\end{Desc}


\subsection{Function Documentation}
\index{vcd.c@{vcd.c}!vcd_parse@{vcd\_\-parse}}
\index{vcd_parse@{vcd\_\-parse}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse (char $\ast$ {\em vcd\_\-file})}\label{vcd_8c_a14}


Parses specified VCD file, storing information into database. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd\_\-file}]Name of VCD file to parse.\end{description}
\end{Desc}
Reads specified VCD file for relevant information and calls the database functions when appropriate to store this information. This replaces the need for a lexer and parser which should increase performance. \index{vcd.c@{vcd.c}!vcd_parse_def@{vcd\_\-parse\_\-def}}
\index{vcd_parse_def@{vcd\_\-parse\_\-def}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-def (FILE $\ast$ {\em vcd})}\label{vcd_8c_a10}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle pointer to opened VCD file.\end{description}
\end{Desc}
Parses all definition information from specified file. \index{vcd.c@{vcd.c}!vcd_parse_def_ignore@{vcd\_\-parse\_\-def\_\-ignore}}
\index{vcd_parse_def_ignore@{vcd\_\-parse\_\-def\_\-ignore}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-def\_\-ignore (FILE $\ast$ {\em vcd})}\label{vcd_8c_a7}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle pointer to opened VCD file.\end{description}
\end{Desc}
Parses specified file until \$end keyword is seen, ignoring all text inbetween. \index{vcd.c@{vcd.c}!vcd_parse_def_scope@{vcd\_\-parse\_\-def\_\-scope}}
\index{vcd_parse_def_scope@{vcd\_\-parse\_\-def\_\-scope}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-def\_\-scope (FILE $\ast$ {\em vcd})}\label{vcd_8c_a9}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle pointer to opened VCD file.\end{description}
\end{Desc}
Parses definition \$scope keyword line until \$end keyword is seen. \index{vcd.c@{vcd.c}!vcd_parse_def_var@{vcd\_\-parse\_\-def\_\-var}}
\index{vcd_parse_def_var@{vcd\_\-parse\_\-def\_\-var}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-def\_\-var (FILE $\ast$ {\em vcd})}\label{vcd_8c_a8}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle pointer to opened VCD file.\end{description}
\end{Desc}
Parses definition \$var keyword line until \$end keyword is seen. \index{vcd.c@{vcd.c}!vcd_parse_sim@{vcd\_\-parse\_\-sim}}
\index{vcd_parse_sim@{vcd\_\-parse\_\-sim}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-sim (FILE $\ast$ {\em vcd})}\label{vcd_8c_a13}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle of opened VCD file.\end{description}
\end{Desc}
Parses all lines that occur in the simulation portion of the VCD file. \index{vcd.c@{vcd.c}!vcd_parse_sim_ignore@{vcd\_\-parse\_\-sim\_\-ignore}}
\index{vcd_parse_sim_ignore@{vcd\_\-parse\_\-sim\_\-ignore}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-sim\_\-ignore (FILE $\ast$ {\em vcd})}\label{vcd_8c_a12}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle of opened VCD file.\end{description}
\end{Desc}
Reads in symbol from simulation vector line that is to be ignored (unused). Signals an error message if the line is improperly formatted. \index{vcd.c@{vcd.c}!vcd_parse_sim_vector@{vcd\_\-parse\_\-sim\_\-vector}}
\index{vcd_parse_sim_vector@{vcd\_\-parse\_\-sim\_\-vector}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void vcd\_\-parse\_\-sim\_\-vector (FILE $\ast$ {\em vcd}, char $\ast$ {\em value})}\label{vcd_8c_a11}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em vcd}]File handle of opened VCD file. \item[{\em value}]String containing value of current signal.\end{description}
\end{Desc}
Reads the next token from the file and calls the appropriate database storage function for this signal change. 

\subsection{Variable Documentation}
\index{vcd.c@{vcd.c}!instance_specified@{instance\_\-specified}}
\index{instance_specified@{instance\_\-specified}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} {\bf instance\_\-specified} ()}\label{vcd_8c_a2}


Specifies if -i option was specified \index{vcd.c@{vcd.c}!one_instance_found@{one\_\-instance\_\-found}}
\index{one_instance_found@{one\_\-instance\_\-found}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} {\bf one\_\-instance\_\-found} = FALSE}\label{vcd_8c_a6}


This flag is used to indicate if Covered was successfull in finding at least one matching instance from the VCD file. If no instances were found for the entire VCD file, the user has either not specified the -i option or has specified an incorrect path to the top-level module instance so let them know about this. \index{vcd.c@{vcd.c}!timestep_tab@{timestep\_\-tab}}
\index{timestep_tab@{timestep\_\-tab}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf symtable}$\ast$$\ast$ {\bf timestep\_\-tab} ()}\label{vcd_8c_a5}


Pointer to the current timestep table array. Please see the file description for how this structure is used. \index{vcd.c@{vcd.c}!top_instance@{top\_\-instance}}
\index{top_instance@{top\_\-instance}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf top\_\-instance} ()}\label{vcd_8c_a1}


Name of top-level instance name \index{vcd.c@{vcd.c}!user_msg@{user\_\-msg}}
\index{user_msg@{user\_\-msg}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf user\_\-msg}[USER\_\-MSG\_\-LENGTH] ()}\label{vcd_8c_a0}


Holds some output that will be displayed via the print\_\-output command. This is created globally so that memory does not need to be reallocated for each function that wishes to use it. \index{vcd.c@{vcd.c}!vcd_symtab@{vcd\_\-symtab}}
\index{vcd_symtab@{vcd\_\-symtab}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf symtable}$\ast$ {\bf vcd\_\-symtab} ()}\label{vcd_8c_a3}


Pointer to the VCD symbol table. Please see the file description for how this structure is used. \index{vcd.c@{vcd.c}!vcd_symtab_size@{vcd\_\-symtab\_\-size}}
\index{vcd_symtab_size@{vcd\_\-symtab\_\-size}!vcd.c@{vcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf vcd\_\-symtab\_\-size} ()}\label{vcd_8c_a4}


Maintains current number of nodes in the VCD symbol table. This value is used to create the appropriately sized timestep\_\-tab array. 