<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>module.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<h1>module.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include "<a class="el" href="defines_8h-source.html">defines.h</a>"</code><br>
<code>#include "<a class="el" href="module_8h-source.html">module.h</a>"</code><br>
<code>#include "<a class="el" href="util_8h-source.html">util.h</a>"</code><br>
<code>#include "<a class="el" href="expr_8h-source.html">expr.h</a>"</code><br>
<code>#include "<a class="el" href="signal_8h-source.html">signal.h</a>"</code><br>
<code>#include "<a class="el" href="statement_8h-source.html">statement.h</a>"</code><br>
<code>#include "<a class="el" href="param_8h-source.html">param.h</a>"</code><br>
<code>#include "<a class="el" href="link_8h-source.html">link.h</a>"</code><br>
<code>#include "<a class="el" href="iter_8h-source.html">iter.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a1">module_init</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes all values of module.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a172">module</a>*&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a2">module_create</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Creates new module from heap and initializes structure.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a3">module_size_elements</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod, <a class="el" href="defines_8h.html#a179">mod_inst</a> *inst)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a183">bool</a>&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a4">module_db_write</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod, char *scope, FILE *<a class="el" href="pplexer_8c.html#a109">file</a>, <a class="el" href="defines_8h.html#a179">mod_inst</a> *inst)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Writes contents of provided module to specified output.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a183">bool</a>&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a5">module_db_read</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod, char *scope, char **line)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read contents of current line from specified file, creates module and adds to module list.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a183">bool</a>&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a6">module_db_merge</a> (<a class="el" href="defines_8h.html#a172">module</a> *base, FILE *<a class="el" href="pplexer_8c.html#a109">file</a>, <a class="el" href="defines_8h.html#a183">bool</a> same)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reads and merges two modules into base module.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a7">module_display_signals</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Displays signals stored in this module.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a8">module_display_expressions</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Displays expressions stored in this module.</em> <a href="#a8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a9">module_clean</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Deallocates module element contents only from heap.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a10">module_dealloc</a> (<a class="el" href="defines_8h.html#a172">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Deallocates module element from heap.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>char&nbsp;</td><td valign=bottom><a class="el" href="module_8c.html#a0">user_msg</a> [USER_MSG_LENGTH]</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<dl compact><dt>
<b>Author: </b><dd>
Trevor Williams (<a href="mailto:trevorw@charter.net">trevorw@charter.net</a>) </dl><dl compact><dt>
<b>Date: </b><dd>
12/7/2001
<p>
</dl><hr><h2>Function Documentation</h2>
<a name="a9" doxytag="module.c::module_clean"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_clean (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocates module element contents only from heap.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module element to clean.
<p>
</td></tr>
</table>
</dl>Deallocates module contents: name and filename strings.     </td>
  </tr>
</table>
<a name="a2" doxytag="module.c::module_create"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="defines_8h.html#a172">module</a> * module_create (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates new module from heap and initializes structure.
<p>
<dl compact><dt>
<b>Returns: </b><dd>
Returns pointer to newly created module element that has been properly initialized.
<p>
</dl>Allocates memory from the heap for a module element and initializes all contents to NULL. Returns a pointer to the newly created module.     </td>
  </tr>
</table>
<a name="a6" doxytag="module.c::module_db_merge"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="defines_8h.html#a183">bool</a> module_db_merge (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>base</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
FILE * <em>file</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="defines_8h.html#a183">bool</a> <em>same</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads and merges two modules into base module.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>base</em>
&nbsp;</td><td>
Module that will merge in that data from the in module </td></tr>
<tr><td valign=top><em>file</em>
&nbsp;</td><td>
Pointer to CDD file handle to read. </td></tr>
<tr><td valign=top><em>same</em>
&nbsp;</td><td>
Specifies if module to be merged should match existing module exactly or not.
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Returns TRUE if parse and merge was successful; otherwise, returns FALSE.
<p>
</dl>Parses specified line for module information and performs a merge of the two  specified modules, placing the resulting merge module into the module named base. If there are any differences between the two modules, a warning or error will be displayed to the user.     </td>
  </tr>
</table>
<a name="a5" doxytag="module.c::module_db_read"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="defines_8h.html#a183">bool</a> module_db_read (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char * <em>scope</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char ** <em>line</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read contents of current line from specified file, creates module and adds to module list.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module to read contents into. </td></tr>
<tr><td valign=top><em>scope</em>
&nbsp;</td><td>
Pointer to name of read module scope. </td></tr>
<tr><td valign=top><em>line</em>
&nbsp;</td><td>
Pointer to current line to parse.
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Returns TRUE if read was successful; otherwise, returns FALSE.
<p>
</dl>Reads the current line of the specified file and parses it for a module. If all is successful, returns TRUE; otherwise, returns FALSE.     </td>
  </tr>
</table>
<a name="a4" doxytag="module.c::module_db_write"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="defines_8h.html#a183">bool</a> module_db_write (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char * <em>scope</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
FILE * <em>file</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="defines_8h.html#a179">mod_inst</a> * <em>inst</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes contents of provided module to specified output.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module to write to output. </td></tr>
<tr><td valign=top><em>scope</em>
&nbsp;</td><td>
String version of module scope in hierarchy. </td></tr>
<tr><td valign=top><em>file</em>
&nbsp;</td><td>
Pointer to specified output file to write contents. </td></tr>
<tr><td valign=top><em>inst</em>
&nbsp;</td><td>
Pointer to the current module instance.
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Returns TRUE if file output was successful; otherwise, returns FALSE.
<p>
</dl>Prints the database line for the specified module to the specified database file. If there are any problems with the write, returns FALSE; otherwise, returns TRUE.     </td>
  </tr>
</table>
<a name="a10" doxytag="module.c::module_dealloc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_dealloc (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocates module element from heap.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module element to deallocate.
<p>
</td></tr>
</table>
</dl>Deallocates module; name and filename strings; and finally the structure itself from the heap.     </td>
  </tr>
</table>
<a name="a8" doxytag="module.c::module_display_expressions"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_display_expressions (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays expressions stored in this module.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module element to display expressions
<p>
</td></tr>
</table>
</dl>Iterates through expression list of specified module, displaying each expression's id.     </td>
  </tr>
</table>
<a name="a7" doxytag="module.c::module_display_signals"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_display_signals (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays signals stored in this module.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module element to display signals.
<p>
</td></tr>
</table>
</dl>Iterates through signal list of specified module, displaying each signal's name, width, lsb and value.     </td>
  </tr>
</table>
<a name="a1" doxytag="module.c::module_init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_init (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes all values of module.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module to initialize.
<p>
</td></tr>
</table>
</dl>Initializes all contents to NULL.     </td>
  </tr>
</table>
<a name="a3" doxytag="module.c::module_size_elements"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void module_size_elements (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="defines_8h.html#a172">module</a> * <em>mod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="defines_8h.html#a179">mod_inst</a> * <em>inst</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>mod</em>
&nbsp;</td><td>
Pointer to module containing elements to resize. </td></tr>
<tr><td valign=top><em>inst</em>
&nbsp;</td><td>
Pointer to instance containing this module.
<p>
</td></tr>
</table>
</dl>Resizes signals if they are contigent upon parameter values. After all signals have been resized, the signal's corresponding expressions are resized. This function should be called just prior to outputting this module's contents to the CDD file (after parsing phase only)     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="module.c::user_msg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
char user_msg[USER_MSG_LENGTH]
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><address><small>Generated at Mon Feb 10 23:43:01 2003 for Covered by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
