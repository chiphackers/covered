<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <TITLE>Covered - Getting Started</TITLE>
  <META name="GENERATOR" content="ManStyle">
  <meta name="author" content="Trevor Williams">
  <LINK rel=stylesheet type="text/css" href="styles.css">
</HEAD>
<BODY text="#000000"
      link="#12568c" vlink="#023a64" alink="#000000" 
      bgcolor="#ffffff" background="img/tile.jpeg">

<TABLE width=615 border=0 cellpadding=0 cellspacing=0>
  <TR>
    <TD width=30>
      <IMG src="img/space.gif" width=30 height=1 border=0>
    </TD>
    <TD width=105>
      <IMG src="img/space.gif" width=105 height=1 border=0>
    </TD>
    <TD width=20>
      <IMG src="img/space.gif" width=20 height=1 border=0>
    </TD>
    <TD width=460>
      <IMG src="img/space.gif" width=460 height=1 border=0><BR>
      <P class="pageNumber">&nbsp;12&nbsp;</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top></TD>
    <TD></TD>
    <TD align=center>
      <TABLE width=460 border=0 cellpadding=0 cellspacing=0>
        <TR>
          <TD width=460 align=center valign=top class="navigator">
            <P class="navigator"><IMG src="img/000000.gif" height=2 width=460><BR>
            <IMG src="img/toolbar_left.png" border=0><A href="001.html" alt="Contents"><IMG src="img/toolbar_cont.png" border=0></A><A href="index.html" alt="First Page"><IMG src="img/toolbar_first.png" border=0></A><A href="011.html" alt="Previous Page"><IMG src="img/toolbar_prev.png" border=0></A><A href="index.html" alt="Home"><IMG src="img/toolbar_home.png" border=0></A><A href="013.html" alt="Next Page"><IMG src="img/toolbar_next.png" border=0></A><A href="027.html" alt="Last Page"><IMG src="img/toolbar_last.png" border=0></A><IMG src="img/toolbar_right.png" border=0>
            <BR><IMG src="img/000000.gif" height=2 width=460></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            <P class="pageHeader">User Manual - <B>&laquo;Covered&raquo;</B><BR><IMG src="img/000000.gif" height=1 width=460></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            &nbsp;
          </TD>
        </TR>
      </TABLE>
    </TD>
  </TR>


  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header1">6&nbsp;&nbsp; <A name="6"></A>Getting Started<BR><IMG src="img/12568c.gif" height=2 width=460></P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Before you are ready to being scoring, merging and generating coverage reports from
      the design, you will first need to decide whether you want to post-process
      VCD/LXT -formatted dumpfiles generated from simulation or whether you want to 
      accummulate coverage information alongside the simulator using the simulator's VPI
      interface.  There are advantages and disadvantages to either method, so select
      the method that will best work for you.
      </P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Generating coverage information from VCD/LXT -formatted dumpfiles requires three
      steps:  (1) compile the simulator to dump in the specified format, (2) run the
      simulation, (3) run Covered's score command using the dumpfile as input along with
      the design.  Performing these steps will generate the needed CDD file that can
      be used for merging or reporting.  The advantages to this approach is that
      the steps are fairly simple and are compiler/simulator -independent.  However, 
      there are two main drawbacks.  First, compiling with dumping enabled often slows
      simulation by some significant factor.  Second, the dumpfiles generated from
      simulation can often be quite large (especially for VCD dumping), consuming a lot
      of disk space.  Additionally, if your simulator dumps in a format different from
      VCD or LXT, you will need to perform an additional step in transforming the
      original dumpfile into one of these formats.  This is often a time-consuming task
      if the design and/or dumpfile is significantly large.  If you are generating lots
      of dumpfiles for coverage (say from running a regression), the amount of disk
      space needed to store these files can be tremendous, making this approach almost
      not feasible.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Generating coverage information using the VPI interface of the simulator requires
      three main steps:  (1) create a base CDD file from the design along with a top-level
      Verilog module and PLI table file (this second file is needed for the 
      commercial VCS compiler), (2) compile the simulator using the Covered VPI module
      (or shared object), (3) run the simulation.  The end result of these steps is the
      same CDD file that results from using the dumpfile method described above.  The
      primary advantage of this approach is that no dumpfiles are required, saving on
      disk space and dumpfile processing time.  The drawbacks of this approach are the
      following:  (1) simulation runs much slower using the VPI and Covered (most likely
      slower than creating dumpfiles from the simulator), (2) Covered VPI modules are
      only available for certain compilers (Icarus Verilog, Cver and VCS currently);
      however, adding support for other compilers should not be a difficult thing to do,
      (3) the VPI modules will only work for compilers that support the VPI interface
      (a Verilog-2001 feature).
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">6.1&nbsp; <A name="6_1"></A>What is needed for dumpfile scoring?</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Before Covered can be invoked for dumpfile scoring, you must have a simulatable 
      Verilog design and a VCD or LXT dumpfile containing information from a simulation 
      run of the design that dumps the module(s) that you want to check for coverage. 
      The VCD dumpfile style was chosen due to its universal support by Verilog 
      simulators while the LXT dumpfile style was chosen due to its compactness and 
      growing support by other open source simulators and dumpfile readers.  Once you 
      have these two parts, you are ready to begin generating coverage results.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header3">6.1.1&nbsp; <A name="6_1_1"></A>Creating a VCD dumpfile</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      In Verilog, the way that you create the VCD dumpfile is by using two types of 
      Verilog system calls (1) $dumpfile and (2) $dumpvars. The following example 
      shows how to create and generate a dumpfile called "test.vcd" that will dump 
      the submodule called "foo".</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">Example</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="code">module test;<br> <br> initial<br> &nbsp; begin<br> &nbsp;&nbsp;&nbsp; $dumpfile( "test.vcd" );<br> &nbsp;&nbsp;&nbsp; $dumpvars( 1, test.foo );<br> &nbsp; end<br> <br> foo_mod foo();<br> <br> endmodule<br> <br> module foo_mod;<br> <br> ...<br> <br> endmodule</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">$dumpfile</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The $dumpfile system call takes in one parameter that is a string of the name 
      of the dumpfile to create, in this case the dumpfile we want to create is called 
      "test.foo". The purpose of this function to create the file (open it for writing) 
      and outputs some initialization information to the file.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">$dumpvars</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The $dumpvars system call takes in two parameters. The first is the number of 
      levels of hierarchy that you want to dump. In the example, we want to only dump 
      the module instance called "foo" which is why the dump level was set to 1. To 
      dump foo and the level of submodules just beneath it, you would set the dump 
      level to 2 and so on. To dump a module and all submodules beneath it, set the 
      dump level value to 0 (this means the level specified and all levels below it). 
      The second parameter is a Verilog hierarchical reference to the top-level 
      module instance that you want to dump.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The $dumpfile system call may only be called once within a Verilog design. 
      Typically, it is called in the top-most level of the design (or testbench as 
      it is commonly referred to as); however, the language allows you to call it 
      from anywhere in your design as long as it precedes any calls to $dumpvars.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The $dumpvars system call may be called as many times as necessary to dump the 
      Verilog that you need. For example, if you want to get coverage results for 
      several modules scattered around the design, you may make several $dumpvars 
      calls to dump exactly those modules that you want to see coverage for.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      For the most part, that is about all there is to creating VCD dumpfiles for 
      the design. All you need to do is run a simulation with these system calls in 
      it and a dumpfile will be generated for that run. Once you have this file, you 
      are ready to see if your design is Covered!</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header3">6.1.2&nbsp; <A name="6_1_2"></A>Creating an LXT dumpfile</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      An LXT dumpfile can be created in several different ways depending on the
      Verilog simulation tool that you are using.  If you are using the 
      <a href="http://www.icarus.com/eda/verilog">Icarus Verilog</a>
      open source simulator, you can simply generate an LXT-style dumpfile by specifying
      the -lxt2 option to the simulator command-line.  For example, if you had a file
      called "foo.v" that contained the same $dumpfile and $dumpvars commands used for
      VCD dumping and compiled it with Icarus Verilog into a VVP file called "a.out",
      you could cause Icarus Verilog to generate an LXT dumpfile (instead of a VCD
      dumpfile by calling "vvp a.out -lxt2".  This will cause an LXT style dumpfile
      instead of the standard VCD style dumpfile.</p>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      You can also transform many different dumpfile formats into an LXT style
      dumpfile with the helper programs that come with the 
      <a href="http://home.nc.rr.com/gtkwave/">GtkWave</a> waveform viewer.</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">6.2&nbsp; <A name="6_2"></A>What is needed for VPI scoring?</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      After Covered has been configured and built to include the creation of a VPI
      loadable module or shared object file (see 
      <A href="011.html#5_3">Installing from Source</A> for details), Covered is capable
      of scoring during a simulation run by using the VPI (Verilog Procedural Interface)
      access mechanism.  This is done by loading the Covered VPI module (or shared object)
      into the simulator executable prior to running (depending on the simulator being
      used).  The following steps should be taken to create a scored CDD file using
      this method.</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      <OL>
        <LI>Create the Verilog file that will be compiled as a top-level module in
            the design (alongside the actual top-level(s)).
            <P>
            This is done by running the score command with the -vpi option.  The following
            example command-line shows how this step is done, creating a file called
            "covered_vpi.v".</P>
            <P>
            <CODE>covered score -t top -vpi</CODE></P> </LI>
        <LI>Compile the simulator executable, including the previously generated file
            and the Covered VPI module.  See the compile instructions for the
            <A href="012.html#6_2_1">Icarus Verilog</A>, 
            <A href="012.html#6_2_2">Cver</A> or
            <A href="012.html#6_2_3">VCS</A> simulators below.</LI>
        <LI>Run the simulation.  Once simulation is complete, the resulting CDD file will
            be a completely scored database, ready to be merged with other CDD files from
            the same design or reported on.</li>
      </OL> </P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header3">6.2.1&nbsp; <A name="6_2_1"></A>Compiling for Icarus Verilog</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      If you are compiling an Icarus Verilog simulation, simply add 
      <b>-m /usr/local/libexec/covered.vpi covered_pli.v</b> to the command-line.</P>  
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header3">6.2.2&nbsp; <A name="6_2_2"></A>Compiling for Cver</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      If you are compiling a Cver simulation, simply add 
      <b>+loadvpi=/usr/local/libexec/covered.cver.so:vpi_compat_bootstrap covered_vpi.v</b> 
      to the command-line.</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header3">6.2.3&nbsp; <A name="6_2_3"></A>Compiling for VCS</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      If you are compiling a VCS simulation, simply add 
      <b>+vpi -load /usr/local/libexec/covered.vcs.so:covered_register -P covered_pli.v.tab covered_pli.v</b>
      to the command-line.</P>
    </TD>
  </TR>
  
  <TR>
    <TD></TD>
    <TD></TD>
    <TD></TD>
    <TD valign=top>
       <P class="navigatorSmall"><IMG src="img/12568c.gif" height=1 width=460><BR>
       [&nbsp;
       <A href="001.html">Contents</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">First Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="011.html">Previous Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">Home</A>&nbsp;
       &nbsp;|&nbsp;<A href="013.html">Next Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="027.html">Last Page</A>&nbsp;
       ]<BR>
       [&nbsp;<A href="001.html">1</A>&nbsp;|
        &nbsp;<A href="002.html">2</A>&nbsp;|
        &nbsp;<A href="003.html">3</A>&nbsp;|
        &nbsp;<A href="004.html">4</A>&nbsp;|
        &nbsp;<A href="005.html">5</A>&nbsp;|
        &nbsp;<A href="006.html">6</A>&nbsp;|
        &nbsp;<A href="007.html">7</A>&nbsp;|
        &nbsp;<A href="008.html">8</A>&nbsp;|
        &nbsp;<A href="009.html">9</A>&nbsp;|
        &nbsp;<A href="010.html">10</A>&nbsp;|
        &nbsp;<A href="011.html">11</A>&nbsp;|
        &nbsp;<A href="012.html">12</A>&nbsp;|
        &nbsp;<A href="013.html">13</A>&nbsp;|
        &nbsp;<A href="014.html">14</A>&nbsp;|
        &nbsp;<A href="015.html">15</A>&nbsp;|
        &nbsp;<A href="016.html">16</A>&nbsp;|
        &nbsp;<A href="017.html">17</A>&nbsp;|
        &nbsp;<A href="018.html">18</A>&nbsp;|
        &nbsp;<A href="019.html">19</A>&nbsp;|
        &nbsp;<A href="020.html">20</A>&nbsp;|
        &nbsp;<A href="021.html">21</A>&nbsp;|
        &nbsp;<A href="022.html">22</A>&nbsp;|
        &nbsp;<A href="023.html">23</A>&nbsp;|
        &nbsp;<A href="024.html">24</A>&nbsp;|
        &nbsp;<A href="025.html">25</A>&nbsp;|
        &nbsp;<A href="026.html">26</A>&nbsp;|
        &nbsp;<A href="027.html">27</A>&nbsp;]
       <BR>
       <B>License: GPL</B><BR>
       This Manual was created with <A HREF="http://manstyle.sourceforge.net">ManStyle</A>.
       </P>
    </TD>
  </TR>

</TABLE>

<P>
  <BR><BR>
</P>

</BODY>
</HTML>
